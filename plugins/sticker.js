const _0x52ac65=_0x2671;(function(_0x320af8,_0x17b09e){const _0x214ef9=_0x2671,_0x5c0950=_0x320af8();while(!![]){try{const _0x435233=parseInt(_0x214ef9(0x144))/0x1+-parseInt(_0x214ef9(0x18b))/0x2*(-parseInt(_0x214ef9(0x13c))/0x3)+-parseInt(_0x214ef9(0x188))/0x4*(parseInt(_0x214ef9(0x140))/0x5)+-parseInt(_0x214ef9(0x184))/0x6+-parseInt(_0x214ef9(0x161))/0x7*(parseInt(_0x214ef9(0x13a))/0x8)+parseInt(_0x214ef9(0x196))/0x9*(-parseInt(_0x214ef9(0x18f))/0xa)+parseInt(_0x214ef9(0x180))/0xb;if(_0x435233===_0x17b09e)break;else _0x5c0950['push'](_0x5c0950['shift']());}catch(_0x1f9c3){_0x5c0950['push'](_0x5c0950['shift']());}}}(_0x88ba,0x941e7));const config=require('../config'),{Sticker,createSticker,StickerTypes}=require(_0x52ac65(0x191)),{cmd,commands}=require(_0x52ac65(0x16e)),{getBuffer,getGroupAdmins,getRandom,h2k,isUrl,Json,runtime,sleep,fetchJson}=require(_0x52ac65(0x17d)),path=require(_0x52ac65(0x157)),{tmpdir}=require('os'),fetch=require(_0x52ac65(0x159)),Crypto=require(_0x52ac65(0x185)),ffmpegPath=require(_0x52ac65(0x16b))['path'],ffmpeg=require(_0x52ac65(0x156)),fs=require('fs');ffmpeg[_0x52ac65(0x14e)](ffmpegPath);async function videoToWebp(_0x398c71){const _0x2c6bc0=_0x52ac65,_0x23744a=path[_0x2c6bc0(0x147)](tmpdir(),Crypto['randomBytes'](0x6)[_0x2c6bc0(0x155)](0x0,0x6)['toString'](0x24)+_0x2c6bc0(0x146)),_0x5f5751=path[_0x2c6bc0(0x147)](tmpdir(),Crypto[_0x2c6bc0(0x15b)](0x6)[_0x2c6bc0(0x155)](0x0,0x6)[_0x2c6bc0(0x183)](0x24)+'.mp4');fs[_0x2c6bc0(0x186)](_0x5f5751,_0x398c71),await new Promise((_0x58a73c,_0x2bee5f)=>{const _0x23deb3=_0x2c6bc0;ffmpeg(_0x5f5751)['on'](_0x23deb3(0x179),_0x2bee5f)['on'](_0x23deb3(0x13d),()=>_0x58a73c(!![]))['addOutputOptions']([_0x23deb3(0x13b),'libwebp',_0x23deb3(0x14d),_0x23deb3(0x14a),_0x23deb3(0x15d),'0',_0x23deb3(0x16c),_0x23deb3(0x195),'-t',_0x23deb3(0x190),'-preset',_0x23deb3(0x193),'-an',_0x23deb3(0x163),'0'])[_0x23deb3(0x192)](_0x23deb3(0x149))[_0x23deb3(0x182)](_0x23744a);});const _0x58f7c5=fs[_0x2c6bc0(0x197)](_0x23744a);return fs['unlinkSync'](_0x23744a),fs[_0x2c6bc0(0x151)](_0x5f5751),_0x58f7c5;}function toAudio(_0x4375f5,_0x2ffb2c){const _0x1b2d6a=_0x52ac65;return ffmpeg(_0x4375f5,[_0x1b2d6a(0x16a),'-ac','2','-b:a',_0x1b2d6a(0x14f),_0x1b2d6a(0x17b),_0x1b2d6a(0x181),'-f',_0x1b2d6a(0x15e)],_0x2ffb2c,_0x1b2d6a(0x15e));}function _0x2671(_0x4ddf62,_0x38c3fe){const _0x88badc=_0x88ba();return _0x2671=function(_0x2671ff,_0x15a032){_0x2671ff=_0x2671ff-0x13a;let _0x429677=_0x88badc[_0x2671ff];return _0x429677;},_0x2671(_0x4ddf62,_0x38c3fe);}function toPTT(_0x46d296,_0x158000){const _0x43a46b=_0x52ac65;return ffmpeg(_0x46d296,[_0x43a46b(0x16a),_0x43a46b(0x167),_0x43a46b(0x164),_0x43a46b(0x176),_0x43a46b(0x14f),'-vbr','on',_0x43a46b(0x15a),'10'],_0x158000,_0x43a46b(0x13e));}function toVideo(_0x2144bc,_0x51c6ad){const _0x3341bf=_0x52ac65;return ffmpeg(_0x2144bc,[_0x3341bf(0x160),_0x3341bf(0x169),_0x3341bf(0x167),_0x3341bf(0x187),_0x3341bf(0x175),'128k',_0x3341bf(0x17b),_0x3341bf(0x181),_0x3341bf(0x17f),'32','-preset',_0x3341bf(0x18d)],_0x51c6ad,_0x3341bf(0x18c));}module[_0x52ac65(0x152)]={'videoToWebp':videoToWebp,'toAudio':toAudio,'toPTT':toPTT,'toVideo':toVideo},cmd({'pattern':_0x52ac65(0x145),'desc':'Convert\x20text\x20to\x20a\x20GIF\x20sticker.','react':'‚ú®','category':'convert','use':_0x52ac65(0x13f),'filename':__filename},async(_0x1fd42e,_0xc8adcd,_0x27384d,{from:_0x347478,quoted:_0x6a6f74,body:_0x548020,isCmd:_0xfec926,command:_0x1b22d8,args:_0x5d641,q:_0x135e2c,isGroup:_0x4f8179,sender:_0x3d2604,senderNumber:_0x1d19e6,botNumber2:_0x5972ee,botNumber:_0x232ecb,pushname:_0x5907a5,isMe:_0x117ea9,isOwner:_0x33577c,groupMetadata:_0x50e871,groupName:_0x18246c,participants:_0x5a3247,groupAdmins:_0x555c2b,isBotAdmins:_0x15b91a,isAdmins:_0x3500d0,reply:_0x198082})=>{const _0x2ce751=_0x52ac65;try{if(!_0x5d641[0x0])return _0x198082(_0x2ce751(0x17c));let _0x25a69e=await getBuffer(_0x2ce751(0x173)+_0x5d641[0x0]);const _0x6b6807={'quoted':_0x27384d};await _0x1fd42e[_0x2ce751(0x178)](_0x27384d[_0x2ce751(0x18e)],{'sticker':await videoToWebp(_0x25a69e)},_0x6b6807);}catch(_0x581583){console[_0x2ce751(0x179)]('Error:',_0x581583),_0x198082(_0x2ce751(0x143)+_0x581583[_0x2ce751(0x17e)]);}});var imgmsg='Please\x20mention\x20a\x20photo\x20or\x20gif\x20!!',descg=_0x52ac65(0x153);cmd({'pattern':_0x52ac65(0x14c),'react':'ü§π‚Äç‚ôÄÔ∏è','alias':['s','ss',_0x52ac65(0x150)],'desc':descg,'category':_0x52ac65(0x141),'use':_0x52ac65(0x170),'filename':__filename},async(_0x536155,_0x418020,_0x45455d,{from:_0x4b3e08,reply:_0xc61548,isCmd:_0x539461,command:_0x27eb99,args:_0x4efc28,q:_0x164038,isGroup:_0x9f7be0,pushname:_0x1766b4})=>{const _0x529499=_0x52ac65;try{const _0x17b026=_0x45455d[_0x529499(0x16d)]&&(_0x45455d[_0x529499(0x16d)][_0x529499(0x15c)]===_0x529499(0x165)||_0x45455d[_0x529499(0x16d)][_0x529499(0x15c)]===_0x529499(0x15f)&&_0x45455d[_0x529499(0x16d)][_0x529499(0x16f)][_0x529499(0x15c)]===_0x529499(0x165)),_0x18714d=_0x45455d[_0x529499(0x16d)]&&_0x45455d[_0x529499(0x16d)][_0x529499(0x15c)]===_0x529499(0x142);if(_0x45455d[_0x529499(0x15c)]===_0x529499(0x165)||_0x17b026){const _0x100da9=getRandom(_0x529499(0x172)),_0x19b033=_0x17b026?await _0x45455d[_0x529499(0x16d)][_0x529499(0x148)]():await _0x45455d['download']();await require('fs')[_0x529499(0x154)][_0x529499(0x14b)](_0x100da9,_0x19b033);let _0x585e10=new Sticker(_0x100da9,{'pack':config[_0x529499(0x189)],'author':'','type':_0x164038[_0x529499(0x18a)]('--crop')||_0x164038[_0x529499(0x18a)]('-c')?StickerTypes[_0x529499(0x177)]:StickerTypes[_0x529499(0x17a)],'categories':['ü§©','üéâ'],'id':_0x529499(0x162),'quality':0x4b,'background':_0x529499(0x158)});const _0x2633e2=await _0x585e10[_0x529499(0x194)]();return _0x536155[_0x529499(0x178)](_0x4b3e08,{'sticker':_0x2633e2},{'quoted':_0x418020});}else{if(_0x18714d){const _0x40dda3=getRandom(_0x529499(0x146)),_0x3b08af=await _0x45455d[_0x529499(0x16d)][_0x529499(0x148)]();await require('fs')[_0x529499(0x154)][_0x529499(0x14b)](_0x40dda3,_0x3b08af);let _0x3660d5=new Sticker(_0x40dda3,{'pack':config[_0x529499(0x189)],'author':'','type':_0x164038[_0x529499(0x18a)](_0x529499(0x166))||_0x164038[_0x529499(0x18a)]('-c')?StickerTypes['CROPPED']:StickerTypes[_0x529499(0x17a)],'categories':['ü§©','üéâ'],'id':_0x529499(0x162),'quality':0x4b,'background':_0x529499(0x158)});const _0x224429=await _0x3660d5[_0x529499(0x194)]();return _0x536155['sendMessage'](_0x4b3e08,{'sticker':_0x224429},{'quoted':_0x418020});}else return await _0xc61548(imgmsg);}}catch(_0x3707e7){_0xc61548(_0x529499(0x171)),console[_0x529499(0x179)](_0x3707e7);}});function _0x88ba(){const _0x1d042c=['37850NhZcLn','00:00:05','wa-sticker-formatter','toFormat','default','toBuffer','00:00:00','963wJNaYU','readFileSync','16xshMHg','-vcodec','323286NZRiLj','end','opus','.attp\x20HI','5093345EERAZg','convert','stickerMessage','‚ùå\x20An\x20error\x20occurred:\x20','63053qRaiJc','attp','.webp','join','download','webp','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','writeFile','sticker','-vf','setFfmpegPath','128k','stic','unlinkSync','exports','…™·¥õ\x20·¥Ñ·¥è…¥·¥†·¥á Ä·¥õs\x20 è·¥è·¥ú Ä\x20 Ä·¥á·¥ò ü…™·¥á·¥Ö\x20·¥ò ú·¥è·¥õ·¥è\x20·¥õ·¥è\x20s·¥õ…™·¥Ñ·¥ã·¥á Ä.','promises','readUIntLE','fluent-ffmpeg','path','transparent','node-fetch','-compression_level','randomBytes','type','-loop','mp3','viewOnceMessage','-c:v','3004554KFDiPv','12345','-vsync','libopus','imageMessage','--crop','-c:a','take','libx264','-vn','@ffmpeg-installer/ffmpeg','-ss','quoted','../command','msg','.sticker\x20<Reply\x20to\x20image>','Error\x20!!','.jpg','https://api-fix.onrender.com/api/maker/attp?text=','.sticker\x20<Reply\x20to\x20image>\x20<Pack\x20Name>','-ab','-b:a','CROPPED','sendMessage','error','FULL','-ar','*Please\x20give\x20me\x20a\x20text!*','../lib/functions','message','-crf','27874946FSPgDA','44100','save','toString','3422592HkYxYF','crypto','writeFileSync','aac','4LiYnwU','STICKER_NAME','includes','16trNEdO','mp4','slow','chat'];_0x88ba=function(){return _0x1d042c;};return _0x88ba();}var imgmsgx='*Please\x20reply\x20to\x20a\x20photo\x20or\x20sticker*',usageMsg='Usage:\x20.take\x20<Pack\x20Name>',descg='give\x20pack\x20name\x20to\x20sticker\x20.';cmd({'pattern':_0x52ac65(0x168),'react':'‚≠ê','desc':descg,'category':_0x52ac65(0x141),'use':_0x52ac65(0x174),'filename':__filename},async(_0x1f652e,_0x3f1814,_0x2f70ee,{from:_0x3c8f34,reply:_0x5a13c2,isCmd:_0x2e6381,command:_0x1301b9,args:_0x49e182,q:_0x363a72,isGroup:_0x2d8fd9,pushname:_0x3cd4d8})=>{const _0x4e40d7=_0x52ac65;try{const _0x2afd01=_0x2f70ee[_0x4e40d7(0x16d)]&&(_0x2f70ee[_0x4e40d7(0x16d)][_0x4e40d7(0x15c)]===_0x4e40d7(0x165)||_0x2f70ee[_0x4e40d7(0x16d)][_0x4e40d7(0x15c)]==='viewOnceMessage'&&_0x2f70ee[_0x4e40d7(0x16d)]['msg'][_0x4e40d7(0x15c)]===_0x4e40d7(0x165)),_0x37b6a6=_0x2f70ee[_0x4e40d7(0x16d)]&&_0x2f70ee['quoted'][_0x4e40d7(0x15c)]==='stickerMessage';let _0x28762a=_0x49e182[0x0]?_0x49e182[_0x4e40d7(0x147)]('\x20'):null;if(!_0x28762a)return _0x5a13c2(usageMsg);if(_0x2f70ee[_0x4e40d7(0x15c)]===_0x4e40d7(0x165)||_0x2afd01){const _0x505766=getRandom(_0x4e40d7(0x172)),_0x495b06=_0x2afd01?await _0x2f70ee[_0x4e40d7(0x16d)][_0x4e40d7(0x148)]():await _0x2f70ee[_0x4e40d7(0x148)]();await require('fs')['promises'][_0x4e40d7(0x14b)](_0x505766,_0x495b06);let _0x2c7373=new Sticker(_0x505766,{'pack':_0x28762a,'author':'','type':_0x49e182[_0x4e40d7(0x18a)]('--crop')||_0x49e182[_0x4e40d7(0x18a)]('-c')?StickerTypes[_0x4e40d7(0x177)]:StickerTypes[_0x4e40d7(0x17a)],'categories':['ü§©','üéâ'],'id':_0x4e40d7(0x162),'quality':0x4b,'background':_0x4e40d7(0x158)});const _0x10466f=await _0x2c7373['toBuffer']();return _0x1f652e['sendMessage'](_0x3c8f34,{'sticker':_0x10466f},{'quoted':_0x3f1814});}else{if(_0x37b6a6){const _0x178262=getRandom(_0x4e40d7(0x146)),_0x56e0c7=await _0x2f70ee[_0x4e40d7(0x16d)][_0x4e40d7(0x148)]();await require('fs')['promises'][_0x4e40d7(0x14b)](_0x178262,_0x56e0c7);let _0x1071c0=new Sticker(_0x178262,{'pack':_0x28762a,'author':'','type':_0x49e182[_0x4e40d7(0x18a)](_0x4e40d7(0x166))||_0x49e182['includes']('-c')?StickerTypes[_0x4e40d7(0x177)]:StickerTypes[_0x4e40d7(0x17a)],'categories':['ü§©','üéâ'],'id':_0x4e40d7(0x162),'quality':0x4b,'background':_0x4e40d7(0x158)});const _0x3df45e=await _0x1071c0[_0x4e40d7(0x194)]();return _0x1f652e[_0x4e40d7(0x178)](_0x3c8f34,{'sticker':_0x3df45e},{'quoted':_0x3f1814});}else return await _0x5a13c2(imgmsgx);}}catch(_0xcb9b8d){_0x5a13c2(_0x4e40d7(0x171)),console['error'](_0xcb9b8d);}});
